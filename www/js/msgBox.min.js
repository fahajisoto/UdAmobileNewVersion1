function checkOrNot(e){if(e.checked){$(e).attr("checked","checked")}else{$(e).removeAttr("checked")}}function msg(e){function t(){if(s){return}S.css({opacity:0,top:M-50,left:_});S.css("background-image","url('"+msgBoxImagePath+"msgBoxBackGround.png')");C.css({opacity:e.opacity});e.beforeShow();C.css({width:$(document).width(),height:r()});$(l+","+d).fadeIn(0);S.animate({opacity:1,top:M,left:_},200);setTimeout(e.afterShow,200);s=true;$(window).bind("resize",function(e){var t=S.width();var n=S.height();var r=$(window).height();var i=$(window).width();var s=r/2-n/2;var o=i/2-t/2;S.css({top:s,left:o})})}function n(){if(!s){return}e.beforeClose();S.animate({opacity:0,top:M-50,left:_},200);C.fadeOut(300);setTimeout(function(){S.remove();C.remove()},300);setTimeout(e.afterClose,300);s=false}function r(){var e=document;return Math.max(Math.max(e.body.scrollHeight,e.documentElement.scrollHeight),Math.max(e.body.offsetHeight,e.documentElement.offsetHeight),Math.max(e.body.clientHeight,e.documentElement.clientHeight))}function i(){S.fadeOut(200).fadeIn(200)}var s=false;var o=typeof e;var u={content:o=="string"?e:"Message",title:"Warning",type:"alert",autoClose:false,timeOut:0,showButtons:true,buttons:[{value:"Ok"}],inputs:[{type:"text",name:"userName",header:"User Name"},{type:"password",name:"password",header:"Password"}],success:function(e){},beforeShow:function(){},afterShow:function(){},beforeClose:function(){},afterClose:function(){},opacity:.1};e=o=="string"?u:e;if(e.type!=null){switch(e.type){case"alert":e.title=e.title==null?"Warning":e.title;break;case"info":e.title=e.title==null?"Information":e.title;break;case"error":e.title=e.title==null?"Error":e.title;break;case"confirm":e.title=e.title==null?"Confirmation":e.title;e.buttons=e.buttons==null?[{value:"Yes"},{value:"No"},{value:"Cancel"}]:e.buttons;break;case"prompt":e.title=e.title==null?"Log In":e.title;e.buttons=e.buttons==null?[{value:"Login"},{value:"Cancel"}]:e.buttons;break;default:a="alert.png"}}e.timeOut=e.timeOut==null?e.content==null?500:e.content.length*150:e.timeOut;e=$.extend(u,e);if(e.autoClose){setTimeout(n,e.timeOut)}var a="";switch(e.type){case"alert":a="alert.png";break;case"info":a="info.gif";break;case"error":a="error.png";break;case"confirm":a="confirm.png";break;default:a="alert.png"}var f="msgBox"+(new Date).getTime();var l=f;var c=f+"Content";var h=f+"Image";var p=f+"Buttons";var d=f+"BackGround";var v="";$(e.buttons).each(function(e,t){v+='<input class="msgButton" type="button" name="'+t.value+'" value="'+t.value+'" />'});var m="";$(e.inputs).each(function(e,t){var n=t.type;if(n=="checkbox"||n=="radiobutton"){m+='<div class="msgInput">'+'<input type="'+t.type+'" onclick="checkOrNot(this)" name="'+t.name+'" '+(t.checked==null?"":"checked ='"+t.checked+"'")+' value="'+(typeof t.value=="undefined"?"":t.value)+'" />'+"<text>"+t.header+"</text>"+"</div>"}else{m+='<div class="msgInput">'+'<span class="msgInputHeader">'+t.header+"<span>"+'<input type="'+t.type+'" name="'+t.name+'" value="'+(typeof t.value=="undefined"?"":t.value)+'" />'+"</div>"}});var g="<div id="+d+' class="msgBoxBackGround"></div>';var y='<div class="msgBoxTitle">'+e.title+"</div>";var b='<div class="msgBoxContainer"><div id='+h+' class="msgBoxImage"><img src="'+msgBoxImagePath+a+'"/></div><div id='+c+' class="msgBoxContent"><p><span>'+e.content+"</span></p></div></div>";var w="<div id="+p+' class="msgBoxButtons">'+v+"</div>";var E='<div class="msgBoxInputs">'+m+"</div>";var S;var x;var T;var N;var C;if(e.type=="prompt"){$("html").append(g+"<div id="+l+' class="msgBox">'+y+"<div>"+b+(e.showButtons?w+"</div>":"</div>")+"</div>");S=$("#"+l);x=$("#"+c);T=$("#"+h);N=$("#"+p);C=$("#"+d);T.remove();N.css({"text-align":"center","margin-top":"5px"});x.css({width:"100%",height:"100%"});x.html(E)}else{$("html").append(g+"<div id="+l+' class="msgBox">'+y+"<div>"+b+(e.showButtons?w+"</div>":"</div>")+"</div>");S=$("#"+l);x=$("#"+c);T=$("#"+h);N=$("#"+p);C=$("#"+d)}var k=S.width();var L=S.height();var A=$(window).height();var O=$(window).width();var M=A/2-L/2;var _=O/2-k/2;t();$("input.msgButton").click(function(t){t.preventDefault();var r=$(this).val();if(e.type!="prompt"){e.success(r)}else{var i=[];$("div.msgInput input").each(function(e,t){var n=$(this).attr("name");var r=$(this).val();var s=$(this).attr("type");if(s=="checkbox"||s=="radiobutton"){i.push({name:n,value:r,checked:$(this).attr("checked")})}else{i.push({name:n,value:r})}});e.success(r,i)}n()});C.click(function(t){if(!e.showButtons||e.autoClose){n()}else{i()}})}var msgBoxImagePath="./media/images/";jQuery.msgBox=msg